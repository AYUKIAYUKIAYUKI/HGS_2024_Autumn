//--------------------------------------------------------------------------------
// 
// キャラクター [character.cpp]
// Author: Taito Jin
// 
//--------------------------------------------------------------------------------

//---------------------------------------------------
// インクルード
//---------------------------------------------------
#include "character.h"

//============================================================================
// コンストラクタ
//============================================================================
CCharacter::CCharacter(int nPriority)
	: CObject_2D{ nPriority }
	, m_Move{ 0.0f, 0.0f, 0.0f }	// 移動量
{
	// DO_NOTHING
}

//============================================================================
// 初期設定
//============================================================================
HRESULT CCharacter::Init()
{
	// 親クラスの処理
	HRESULT hr = CObject_2D::Init();
	if (FAILED(hr))
	{
		return E_FAIL;
	}


	return S_OK;
}

//============================================================================
// 終了処理
//============================================================================
void CCharacter::Uninit()
{
	// 親クラスの処理
	CObject_2D::Uninit();
}

//============================================================================
// 更新処理
//============================================================================
void CCharacter::Update()
{
	// 位置の更新
	SetPos(GetPos() + m_Move);

	// 親クラスの処理
	CObject_2D::Update();
}

//============================================================================
// 描画処理
//============================================================================
void CCharacter::Draw()
{
	// 親クラスの処理
	CObject_2D::Draw();
}

//---------------------------------------------------
// 移動量取得
//---------------------------------------------------
const D3DXVECTOR3& CCharacter::GetMove() const
{
	return m_Move;
}

//---------------------------------------------------
// 移動量設定
//---------------------------------------------------
void CCharacter::SetMove(const D3DXVECTOR3& inMove)
{
	m_Move = inMove;
}

//============================================================================
// 生成
//============================================================================
CCharacter* CCharacter::Create()
{
	CCharacter* pCharacter = DBG_NEW CCharacter{};

	// 生成出来ていたら初期設定
	if (pCharacter != nullptr)
	{
		pCharacter->Init();
	}

	return pCharacter;
}